{% comment %} main-cart-items {% endcomment %}
<div class="bg-white border-b-2 border-black">
  <div class="container mx-auto px-4 md:px-6 py-9 md:py-12 lg:py-16">
    <h1 class="text-3xl mb-10 font-bold text-center">Your Bag</h1>

    {% if cart.items.size != 0 %}
      <form action="/cart" method="post">
      
      <hr>
        
      <div class="cart-items mt-6">
        {% for item in cart.items %}
          {% assign product = item.product %}

          {% capture selected_options %}
          {% for item_option in item.options_with_values %}
            <p class="mb-2 md:mb-1 text-sm text-gray-500">
              <span class="text-gray-700 font-semibold">{{ item_option.name }}</span>: {{ item_option.value }}
            </p>
          {% endfor %}
          {% endcapture %}

          <div class="flex p-2 md:p-4 mb-5">
            <div class="h-20 w-20 sm:h-28 sm:w-28 lg:h-32 lg:w-32 flex-shrink-0 overflow-hidden border border-black">
              {% assign classList = "h-full w-full object-cover object-center" %}
              {% assign item_image = item.variant.featured_image | default: product.featured_image %}
              {{ item_image | image_url: width: 200, format: 'pjpg' | image_tag: class: classList, loading: 'lazy' }}
            </div> 
  
            <div class="ml-4 flex flex-1 flex-col md:flex-row">
              <div class="flex flex-1 flex-col">
                <h3 class="mb-1 text-base font-medium text-gray-900">
                  <a href="{{ item.url }}">{{ item.title }}</a>
                </h3>
                <p class="mb-2">{{ item.price | money_with_currency }}</p>
                {% if item.variant.title != "Default Title" %}
                  <div class="flex md:flex-col gap-x-3">
                    {{ selected_options }}
                  </div>
                {% endif %}
              </div>
              <div class="flex md:flex-col flex-wrap md:w-80">
                <div class="flex flex-wrap gap-2 items-center justify-between w-full md:w-auto mb-2">
                  {% render 'quantity-spinner', quantity: item.quantity, index: forloop.index %}
                  <p class="font-semibold whitespace-nowrap md:m-0">
                    <span class="hidden md:inline">Total: </span><span>{{ item.line_price | money_with_currency }}</span>
                  </p>
                </div>
                <div class="flex md:flex-1 justify-end items-end">
                  <a href="/cart/change?line={{ forloop.index }}&quantity=0" class="font-medium text-theme hover:text-theme h-7 md:h-auto md:border md:px-2 md:py-1">Remove</a>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>

      <hr>

      <div class="flex">
        <div class="w-4/12 ml-auto mb-2 mt-6 lg:mt-12 p-4">
          <button type="submit" name="checkout" 
            class="checkout-button submit-btn w-full px-10 py-4 bg-theme border-2 border-black text-lg text-white font-semibold">
            Checkout
          </button>
        </div>
      </div>

    </form>
    {% else %}
    <p class="text-center">Is empty... </p>
    <div class="my-6 mx-auto w-10/12 md:w-1/3">
      <?xml version="1.0" encoding="UTF-8"?>
      <svg data-name="Layer 1" viewBox="0 0 896 747.97" xmlns="http://www.w3.org/2000/svg">
        <title>empty_cart</title>
        <path transform="translate(-152 -76.014)" d="m193.63 788.75c12.428 23.049 38.806 32.944 38.806 32.944s6.2271-27.475-6.2013-50.524-38.806-32.944-38.806-32.944-6.2271 27.475 6.2013 50.524z" fill="#2f2e41"/>
        <path transform="translate(-152 -76.014)" d="m202.18 781.17c22.438 13.5 31.08 40.314 31.08 40.314s-27.738 4.9268-50.177-8.5729-31.08-40.314-31.08-40.314 27.738-4.9268 50.177 8.5729z" fill="#6c63ff"/>
        <rect x="413.25" y="35.908" width="140" height="2" fill="#f2f2f2"/>
        <rect x="513.25" y="37.408" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="452.25" y="37.408" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="484.25" y="131.91" width="140" height="2" fill="#f2f2f2"/>
        <rect x="522.25" y="113.91" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="583.25" y="113.91" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="670.25" y="176.91" width="140" height="2" fill="#f2f2f2"/>
        <rect x="708.25" y="158.91" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="769.25" y="158.91" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="656.25" y="640.91" width="140" height="2" fill="#f2f2f2"/>
        <rect x="694.25" y="622.91" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="755.25" y="622.91" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="417.25" y="319.91" width="140" height="2" fill="#f2f2f2"/>
        <rect x="455.25" y="301.91" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="516.25" y="301.91" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="461.25" y="560.91" width="140" height="2" fill="#f2f2f2"/>
        <rect x="499.25" y="542.91" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="560.25" y="542.91" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="685.25" y="487.91" width="140" height="2" fill="#f2f2f2"/>
        <rect x="723.25" y="469.91" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="784.25" y="469.91" width="2" height="18.5" fill="#f2f2f2"/>
        <polygon points="362.06 702.18 125.27 702.18 125.27 700.48 360.36 700.48 360.36 617.86 145.18 617.86 134.73 596.08 136.26 595.35 146.25 616.16 362.06 616.16" fill="#2f2e41"/>
        <circle cx="156.79" cy="726.03" r="17.887" fill="#3f3d56"/>
        <circle cx="333.1" cy="726.03" r="17.887" fill="#3f3d56"/>
        <circle cx="540.93" cy="346.15" r="11.073" fill="#3f3d56"/>
        <path transform="translate(-152 -76.014)" d="m539.39 665.77h-266.15l-57.588-188.24h383.04l-0.34852 1.1075zm-264.89-1.7035h263.64l58.234-184.83h-378.42z" fill="#2f2e41"/>
        <polygon points="366.61 579.96 132.84 579.96 82.26 413.02 418.7 413.02 418.4 414" fill="#f2f2f2"/>
        <polygon points="451.46 384.7 449.82 384.26 461.06 341.89 526.45 341.89 526.45 343.6 462.37 343.6" fill="#2f2e41"/>
        <rect x="82.258" y="458.58" width="345.29" height="1.7035" fill="#2f2e41"/>
        <rect x="101.46" y="521.34" width="306.32" height="1.7035" fill="#2f2e41"/>
        <rect x="254.31" y="402.37" width="1.7035" height="186.53" fill="#2f2e41"/>
        <rect transform="translate(-274.74 936.23) rotate(-86.249)" x="385.56" y="570.8" width="186.93" height="1.7038" fill="#2f2e41"/>
        <rect transform="translate(-188.47 -52.996) rotate(-3.729)" x="334.46" y="478.18" width="1.7038" height="186.93" fill="#2f2e41"/>
        <rect y="745" width="896" height="2" fill="#2f2e41"/>
        <path transform="translate(-152 -76.014)" d="m747.41 137.89s14.618 41.606 5.6225 48.007 30.361 58.675 30.361 58.675l47.229-12.802-25.863-43.74s-3.3735-43.74-3.3735-50.141-53.976 3e-5 -53.976 3e-5z" fill="#a0616a"/>
        <path transform="translate(-152 -76.014)" d="m747.41 137.89s14.618 41.606 5.6225 48.007 30.361 58.675 30.361 58.675l47.229-12.802-25.863-43.74s-3.3735-43.74-3.3735-50.141-53.976 3e-5 -53.976 3e-5z" opacity=".1"/>
        <path transform="translate(-152 -76.014)" d="m722.87 434.47s-4.2673 53.341 0 81.079 10.668 104.55 10.668 104.55 0 145.09 23.47 147.22 40.539 4.2673 42.673-4.2673-10.668-12.802-4.2673-17.069 8.5346-19.203 0-36.272 0-189.9 0-189.9l40.539 108.82s4.2673 89.614 8.5346 102.42-4.2673 36.272 10.668 38.406 32.005-10.668 40.539-14.936-12.802-4.2673-8.5346-6.401 17.069-8.5346 12.802-10.668-8.5346-104.55-8.5346-104.55-11.735-218.7-26.671-227.23-24.537 6.1658-24.537 6.1658z" fill="#2f2e41"/>
        <path transform="translate(-152 -76.014)" d="m761.28 758.78v17.069s-19.203 46.399 0 46.399 34.138 4.8083 34.138-1.5927v-57.609z" fill="#2f2e41"/>
        <path transform="translate(-152 -76.014)" d="m887.17 758.75v17.069s19.203 46.399 0 46.399-34.138 4.8083-34.138-1.5927v-57.609z" fill="#2f2e41"/>
        <circle cx="625.28" cy="54.408" r="38.406" fill="#a0616a"/>
        <path transform="translate(-152 -76.014)" d="m765.55 201.9s10.668 32.005 27.738 25.604l17.069-6.401 29.871 204.83s-23.47 34.138-57.609 12.802-17.069-236.84-17.069-236.84z" fill="#6c63ff"/>
        <path transform="translate(-152 -76.014)" d="m795.42 195.5 9.6014-20.27s56.542 26.671 65.076 35.205 8.5346 21.337 8.5346 21.337l-14.936 53.341s4.2673 117.35 4.2673 121.62 14.936 27.738 4.2673 19.203-12.802-17.069-21.337-4.2673-27.738 27.738-27.738 27.738z" fill="#3f3d56"/>
        <path transform="translate(-152 -76.014)" d="m870.1 349.12-6.401 59.742s-38.406 34.138-29.871 36.272 12.802-6.401 12.802-6.401 14.936 14.936 23.47 6.401 29.871-89.614 29.871-89.614z" fill="#a0616a"/>
        <path transform="translate(-152 -76.014)" d="m778.1 76.144c-8.5141-0.30437-17.625-0.45493-24.804 4.1332a36.313 36.313 0 0 0-8.5723 8.3915c-6.9915 8.8385-13.033 19.959-10.436 30.925l3.0163-1.1764a19.751 19.751 0 0 1-1.9052 8.4626c0.42475-1.2351 1.8472 0.76151 1.4664 2.0108l-3.3227 10.901c5.4621-2.0024 12.257 2.0519 13.088 7.8097 0.37974-12.661 1.6932-27.18 11.964-34.593 5.1795-3.7387 11.735-4.88 18.042-5.8935 5.8183-0.935 11.918-1.8266 17.491 0.08886s10.319 7.615 9.0553 13.371c2.5696-0.88518 5.4436 0.90566 6.7135 3.3086s1.3366 5.2375 1.3748 7.9551c2.7391 1.9358 5.8563-1.9082 6.9726-5.0711 2.6203-7.4243 4.9494-15.327 3.5378-23.073s-7.7232-15.148-15.596-15.174a5.4668 5.4668 0 0 0 1.4218-3.8487l-6.4893-0.5483a7.1723 7.1723 0 0 0 4.2858-2.2595c-2.6054 2.8669-23.09-5.5688-27.304-5.7194z" fill="#2f2e41"/>
        <path transform="translate(-152 -76.014)" d="m776.22 189.1s-17.369-17.021-23.62-15.978-14.786 15.978-14.786 15.978-51.208 17.069-49.074 34.138 25.604 100.28 25.604 100.28 19.203 100.28 2.1337 110.95 81.079 38.406 83.213 25.604 6.401-140.82 0-160.02-23.47-110.95-23.47-110.95z" fill="#3f3d56"/>
        <path transform="translate(-152 -76.014)" d="m850.89 223.24h26.383s18.424 81.079 20.558 89.614 6.401 49.074 4.2673 49.074-44.807-8.5346-44.807-2.1336z" fill="#3f3d56"/>
        <path transform="translate(-152 -76.014)" d="m850 424.01h-101c-9.8561-45.34-10.68-89.146 0-131h101c-16.299 41.101-17.318 84.607 0 131z" fill="#f2f2f2"/>
        <path transform="translate(-152 -76.014)" d="m707.94 368.32 29.871 12.802s57.609 8.5346 57.609-14.936-57.609-10.668-57.609-10.668l-19.204-6.1401z" fill="#a0616a"/>
        <path transform="translate(-152 -76.014)" d="m714.34 210.43-25.604 6.401-19.203 113.08s-6.401 29.871 4.2673 32.005 40.539 19.203 40.539 19.203 4.2673-32.005 12.802-32.005l-21.337-17.069 12.802-74.678z" fill="#3f3d56"/>
        <rect x="60.248" y="352.91" width="140" height="2" fill="#f2f2f2"/>
        <rect x="98.248" y="334.91" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="159.25" y="334.91" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="109.25" y="56.908" width="140" height="2" fill="#f2f2f2"/>
        <rect x="209.25" y="58.408" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="148.25" y="58.408" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="250.25" y="253.91" width="140" height="2" fill="#f2f2f2"/>
        <rect x="350.25" y="255.41" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="289.25" y="255.41" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="12.248" y="252.91" width="140" height="2" fill="#f2f2f2"/>
        <rect x="112.25" y="254.41" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="51.248" y="254.41" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="180.25" y="152.91" width="140" height="2" fill="#f2f2f2"/>
        <rect x="218.25" y="134.91" width="2" height="18.5" fill="#f2f2f2"/>
        <rect x="279.25" y="134.91" width="2" height="18.5" fill="#f2f2f2"/>
      </svg>
    </div>
    {% endif %}

  </div>
</div>
